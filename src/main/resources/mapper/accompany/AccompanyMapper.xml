<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.crewstation.mapper.accompany.AccompanyMapper">
    <select id="getAccompanies">
        select vpc.post_title,
               vpc.created_datetime,
               vpc.updated_datetime,
               vpc.country_name,
               vpc.country_start_date,
               vpc.country_end_date,
               vpc.post_id,
               vpc.post_title,
               vpc.accompany_status,
               vpc.post_id,
                vpc.member_id,
                tm.social_img_url,
                vfpsf.file_origin_name,
                vfpsf.file_path,
                vfpsf.file_id,
                c.crew_name




        from view_post_accompany_accompany_path_country vpc
        join tbl_member tm on vpc.member_id = tm.id
        join tbl_post_section tps
                on tps.post_id = vpc.post_id
        join view_file_post_section_file vfpsf
                on vfpsf.post_section_id = tps.id
        left join tbl_crew_file cf
                on cf.file_id = vfpsf.id
        left join tbl_crew c
                on c.id = cf.crew_id

        order by vpc.created_datetime desc
        limit 4;

    </select>

</mapper>